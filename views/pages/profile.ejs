<div class="row">
  <div class="col-md-3">

    <!-- Profile Image -->
    <div class="box box-primary">
      <div class="box-body box-profile">
        <img class="profile-user-img img-responsive img-circle" src="<%=user.image%>" alt="User profile picture">

        <h3 class="profile-username text-center">
          <%=user.displayName%>
        </h3>

        <p class="text-muted text-center">
          <%= profile.occupation %>
        </p>

        <ul class="list-group list-group-unbordered">
          <li class="list-group-item">
            <b>Followers</b> <a class="pull-right">1,322</a>
          </li>
          <li class="list-group-item">
            <b>Following</b> <a class="pull-right">543</a>
          </li>
          <li class="list-group-item">
            <b>Friends</b> <a class="pull-right">13,287</a>
          </li>
        </ul>

        <a href="#" class="btn btn-primary btn-block"><b>Follow</b></a>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->

    <!-- About Me Box -->
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">About Me</h3>
      </div>
      <!-- /.box-header -->
      <div class="box-body">
        <strong><i class="fa fa-book margin-r-5"></i> Education</strong>

        <p class="text-muted">
          <%= profile.education %>
        </p>

        <hr>

        <strong><i class="fa fa-map-marker margin-r-5"></i> Location</strong>

        <p class="text-muted">
          <%= profile.location%>
        </p>

        <hr>

        <strong><i class="fa fa-pencil margin-r-5"></i> Skills</strong>

        <p>
          <% let labelColor = ['label-danger','label-success', 'label-info', 'label-warning', 'label-primary'] %>
            <% profile.skills.forEach(skill=>{ %>
              <span class="label <%- labelColor[Math.floor((Math.random() * labelColor.length))] %>"><%= skill %></span>
              <%})%>
                <!-- <span class="label label-success">Coding</span>
          <span class="label label-info">Javascript</span>
          <span class="label label-warning">PHP</span>
          <span class="label label-primary">Node.js</span> -->
        </p>

        <hr>

        <strong><i class="fa fa-file-text-o margin-r-5"></i> Notes</strong>

        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam fermentum enim neque.</p>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>
  <!-- /.col -->
  <div class="col-md-9">
    <div class="nav-tabs-custom">
      <ul class="nav nav-tabs">
        <li class="active"><a href="#activity" data-toggle="tab">Activity</a></li>
        <li><a href="#timeline" data-toggle="tab">Timeline</a></li>
        <li><a href="#settings" data-toggle="tab">Settings</a></li>
      </ul>
      <div class="tab-content">
        <div class="active tab-pane" id="activity">
          <%- include('../partials/_activity.ejs') %>
        </div>
        <!-- /.tab-pane -->
        <div class="tab-pane" id="timeline">
          <%- include('../partials/_timeline.ejs') %>
        </div>
        <!-- /.tab-pane -->

        <div class="tab-pane" id="settings">
          <%- include('../partials/_settings.ejs') %>
        </div>
        <!-- /.tab-pane -->
      </div>
      <!-- /.tab-content -->
    </div>
    <!-- /.nav-tabs-custom -->
  </div>
  <!-- /.col -->
</div>
<!-- /.row -->
<script src="/js/script.js"></script>
<script>
  const profileForm = document.getElementById('profileForm')
  profileForm.addEventListener('submit', (e) => {
    e.preventDefault()
    let formData = new FormData(profileForm)
    let myData = {
      displayName: formData.get('displayName'),
      email: formData.get('email'),
      location: formData.get('location'),
      occupation: formData.get('occupation'),
      education: formData.get('education'),
      skills: formData.get('skills')
    }
    alert(e.target.action)
    DoAjax(e.target.action, myData, "application/x-www-form-urlencoded", (response) => {
      alert(response)
    })

  })
</script>